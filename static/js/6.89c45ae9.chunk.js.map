{"version":3,"sources":["api/apiService.js","components/MovieList/MovieList.module.css","components/MovieList/MovieList.jsx","views/HomePage/HomePage.module.css","views/HomePage/HomePage.jsx"],"names":["axios","defaults","baseURL","headers","common","IMAGE_PATH","getImagePath","path","template","process","getTrendMovies","a","get","data","results","searchMovies","query","searchMovieById","movieId","searchMovieCreditsById","crew","searchMovieReviewsById","module","exports","MovieList","this","props","movies","location","className","styles","map","id","title","poster_path","MovieList__item","MovieList__image","src","alt","MovieList__title","to","pathname","routes","state","from","Component","defaultProps","withRouter","HomePage","loading","setState","HomePage_title","Loader"],"mappings":"mYAMAA,IAAMC,SAASC,QAAf,qCAFoB,KAGpBF,IAAMC,SAASE,QAAQC,OAAvB,+BAJE,uNAKFJ,IAAMC,SAASE,QAAQC,OACrB,gBADF,iCAIO,IAAMC,EAAa,kCAEnB,SAASC,EAAaC,GAAgC,IAA1BC,EAAyB,uDAAd,aAC5C,OAAOD,EAAI,UACJF,GADI,OACSE,GAChBE,2BAAA,WAA6BD,GAG5B,SAAeE,IAAtB,+B,4CAAO,8BAAAC,EAAA,+EAIOX,IAAMY,IAAI,uBAJjB,uBAGgBC,EAHhB,EAGDA,KAAQC,QAHP,kBAKID,GALJ,qG,sBAWA,SAAeE,EAAtB,kC,4CAAO,WAA4BC,GAA5B,iBAAAL,EAAA,+EAIOX,IAAMY,IAAN,8BAAiCI,IAJxC,uBAGgBH,EAHhB,EAGDA,KAAQC,QAHP,kBAKID,GAAQ,IALZ,qG,sBAWA,SAAeI,EAAtB,kC,4CAAO,WAA+BC,GAA/B,iBAAAP,EAAA,+EAEoBX,IAAMY,IAAN,iBAAoBM,IAFxC,uBAEKL,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,sBASA,SAAeM,EAAtB,kC,4CAAO,WAAsCD,GAAtC,iBAAAP,EAAA,+EAIOX,IAAMY,IAAN,iBAAoBM,EAApB,aAJP,uBAGaL,EAHb,EAGDA,KAAQO,KAHP,kBAKIP,GAAQ,IALZ,qG,sBAWA,SAAeQ,EAAtB,kC,4CAAO,WAAsCH,GAAtC,iBAAAP,EAAA,+EAIOX,IAAMY,IAAN,iBAAoBM,EAApB,aAJP,uBAGgBL,EAHhB,EAGDA,KAAQC,QAHP,kBAKID,GAAQ,IALZ,qG,2CC7DPS,EAAOC,QAAU,CAAC,UAAY,6BAA6B,gBAAkB,mCAAmC,iBAAmB,oCAAoC,iBAAmB,sC,iKCUpLC,E,4JAYJ,WACE,MAA6BC,KAAKC,MAA1BC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SAChB,OACE,oBAAIC,UAAWC,IAAON,UAAtB,SACGG,EAAOI,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OACV,qBAAaL,UAAWC,IAAOK,gBAA/B,UACE,qBACEN,UAAWC,IAAOM,iBAClBC,IAAK/B,YAAa4B,EAtBR,cAuBVI,IAAKL,IAEP,cAAC,IAAD,CACEJ,UAAWC,IAAOS,iBAClBC,GAAI,CACFC,SAAS,GAAD,OAAKC,IAAOf,OAAZ,YAAsBK,GAC9BW,MAAO,CAAEC,KAAMhB,IAJnB,SAOGK,MAbID,Y,GAjBKa,aAAlBrB,EACGsB,aAAe,CAAEnB,OAAQ,IAsCnBoB,kBAAWvB,I,mBCjD1BF,EAAOC,QAAU,CAAC,SAAW,2BAA2B,eAAiB,mC,gMCmC1DyB,E,4MA1BbL,MAAQ,CAAEhB,OAAQ,GAAIsB,SAAS,G,8FAE/B,sBAAAtC,EAAA,sEAEIc,KAAKyB,SAAS,CAAED,SAAS,IAF7B,KAGIxB,KAHJ,SAGkCf,cAHlC,yBAGoBiB,OAHpB,WAGSuB,SAHT,sGAOIzB,KAAKyB,SAAS,CAAED,SAAS,IAP7B,6E,0EAWA,WACE,MAA4BxB,KAAKkB,MAAzBhB,EAAR,EAAQA,OAAQsB,EAAhB,EAAgBA,QAEhB,OACE,qCACE,oBAAIpB,UAAWC,IAAOqB,eAAtB,4BACA,cAAC3B,EAAA,EAAD,CAAWG,OAAQA,IAClBsB,GAAW,cAACG,EAAA,EAAD,W,GArBGP","file":"static/js/6.89c45ae9.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY_V4 =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNWZkYWQ0ZjAwZmFmNWEwZTc3OTIzYjYxMWIyZDdmOSIsInN1YiI6IjYwNjA3MmI1MzlhMWE2MDA3NTVmNDJmYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BitU9jAy6ozOY21sloVzQqm0hM2h-9SJaeW-vmDViqY';\r\nconst API_VERSION = '3';\r\n\r\naxios.defaults.baseURL = `https://api.themoviedb.org/${API_VERSION}`;\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${API_KEY_V4}`;\r\naxios.defaults.headers.common[\r\n  'Content-Type'\r\n] = `application/json;charset=utf-8`;\r\n\r\nexport const IMAGE_PATH = 'https://image.tmdb.org/t/p/w500';\r\n\r\nexport function getImagePath(path, template = 'avatar.jpg') {\r\n  return path\r\n    ? `${IMAGE_PATH}${path}`\r\n    : process.env.PUBLIC_URL + `/${template}`;\r\n}\r\n\r\nexport async function getTrendMovies() {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get('/trending/movie/day');\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovies(query) {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get(`/search/movie?query=${query}`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieById(movieId) {\r\n  try {\r\n    const { data } = await axios.get(`/movie/${movieId}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieCreditsById(movieId) {\r\n  try {\r\n    const {\r\n      data: { crew: data },\r\n    } = await axios.get(`/movie/${movieId}/credits`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieReviewsById(movieId) {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get(`/movie/${movieId}/reviews`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieList\":\"MovieList_MovieList__hZJRQ\",\"MovieList__item\":\"MovieList_MovieList__item__1UsSf\",\"MovieList__image\":\"MovieList_MovieList__image__DYc7i\",\"MovieList__title\":\"MovieList_MovieList__title__2qt9I\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport styles from './MovieList.module.css';\n\nimport { getImagePath } from './../../api/apiService';\n\nimport routes from '../../routes';\nconst AVATAR_FALLBACK = 'poster.jpg';\n\nclass MovieList extends Component {\n  static defaultProps = { movies: [] };\n\n  static propTypes = {\n    movies: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n          .isRequired,\n        title: PropTypes.string.isRequired,\n      }),\n    ),\n  };\n  render() {\n    const { movies, location } = this.props;\n    return (\n      <ul className={styles.MovieList}>\n        {movies.map(({ id, title, poster_path }) => (\n          <li key={id} className={styles.MovieList__item}>\n            <img\n              className={styles.MovieList__image}\n              src={getImagePath(poster_path, AVATAR_FALLBACK)}\n              alt={title}\n            />\n            <Link\n              className={styles.MovieList__title}\n              to={{\n                pathname: `${routes.movies}/${id}`,\n                state: { from: location },\n              }}\n            >\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default withRouter(MovieList);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HomePage\":\"HomePage_HomePage__3aVhH\",\"HomePage_title\":\"HomePage_HomePage_title__2X0W5\"};","import React, { Component } from 'react';\n\nimport styles from './HomePage.module.css';\n\nimport { getTrendMovies } from './../../api/apiService';\n\nimport MovieList from './../../components/MovieList';\nimport Loader from './../../components/Loader';\n\nclass HomePage extends Component {\n  state = { movies: [], loading: false };\n\n  async componentDidMount() {\n    try {\n      this.setState({ loading: true });\n      this.setState({ movies: await getTrendMovies() });\n    } catch (error) {\n      throw error;\n    } finally {\n      this.setState({ loading: false });\n    }\n  }\n\n  render() {\n    const { movies, loading } = this.state;\n\n    return (\n      <>\n        <h1 className={styles.HomePage_title}>Trending today</h1>\n        <MovieList movies={movies} />\n        {loading && <Loader />}\n      </>\n    );\n  }\n}\n\nexport default HomePage;\n"],"sourceRoot":""}