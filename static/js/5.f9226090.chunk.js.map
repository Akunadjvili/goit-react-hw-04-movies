{"version":3,"sources":["api/apiService.js","components/MovieList/MovieList.module.css","components/MovieList/MovieList.jsx","../node_modules/query-string/index.js","../node_modules/strict-uri-encode/index.js","views/MoviesPage/MoviesPage.module.css","components/Searchbar/Searchbar.module.css","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Searchbar/Searchbar.jsx","views/MoviesPage/MoviesPage.jsx"],"names":["axios","defaults","baseURL","headers","common","IMAGE_PATH","getImagePath","path","template","process","getTrendMovies","a","get","data","results","searchMovies","query","searchMovieById","movieId","searchMovieCreditsById","crew","searchMovieReviewsById","module","exports","MovieList","this","props","movies","location","className","styles","map","id","title","poster_path","MovieList__item","MovieList__image","src","alt","MovieList__title","to","pathname","routes","state","from","Component","defaultProps","withRouter","strictUriEncode","require","objectAssign","encode","value","opts","strict","encodeURIComponent","keysSorter","input","Array","isArray","sort","Object","keys","b","Number","key","extract","str","split","parse","formatter","result","arrayFormat","accumulator","exec","replace","undefined","concat","parserForArrayFormat","ret","create","trim","forEach","param","parts","shift","val","length","join","decodeURIComponent","reduce","Boolean","stringify","obj","index","encoderForArrayFormat","slice","val2","push","filter","x","c","charCodeAt","toString","toUpperCase","_defineProperty","defineProperty","enumerable","configurable","writable","Searchbar","updateFields","currentTarget","name","setState","onSubmitHandler","event","onSubmit","preventDefault","SearchForm","type","autoComplete","autoFocus","onChange","placeholder","MoviesPage","search","loading","getSearchFromProps","queryString","fetchMoviesList","console","log","onQueryChange","history","prevProps","prevSearch","nextSearch","Loader"],"mappings":"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","file":"static/js/5.f9226090.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY_V4 =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNWZkYWQ0ZjAwZmFmNWEwZTc3OTIzYjYxMWIyZDdmOSIsInN1YiI6IjYwNjA3MmI1MzlhMWE2MDA3NTVmNDJmYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BitU9jAy6ozOY21sloVzQqm0hM2h-9SJaeW-vmDViqY';\r\nconst API_VERSION = '3';\r\n\r\naxios.defaults.baseURL = `https://api.themoviedb.org/${API_VERSION}`;\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${API_KEY_V4}`;\r\naxios.defaults.headers.common[\r\n  'Content-Type'\r\n] = `application/json;charset=utf-8`;\r\n\r\nexport const IMAGE_PATH = 'https://image.tmdb.org/t/p/w500';\r\n\r\nexport function getImagePath(path, template = 'avatar.jpg') {\r\n  return path\r\n    ? `${IMAGE_PATH}${path}`\r\n    : process.env.PUBLIC_URL + `/${template}`;\r\n}\r\n\r\nexport async function getTrendMovies() {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get('/trending/movie/day');\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovies(query) {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get(`/search/movie?query=${query}`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieById(movieId) {\r\n  try {\r\n    const { data } = await axios.get(`/movie/${movieId}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieCreditsById(movieId) {\r\n  try {\r\n    const {\r\n      data: { crew: data },\r\n    } = await axios.get(`/movie/${movieId}/credits`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieReviewsById(movieId) {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get(`/movie/${movieId}/reviews`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieList\":\"MovieList_MovieList__hZJRQ\",\"MovieList__item\":\"MovieList_MovieList__item__1UsSf\",\"MovieList__image\":\"MovieList_MovieList__image__DYc7i\",\"MovieList__title\":\"MovieList_MovieList__title__2qt9I\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport styles from './MovieList.module.css';\n\nimport { getImagePath } from './../../api/apiService';\n\nimport routes from '../../routes';\nconst AVATAR_FALLBACK = 'poster.jpg';\n\nclass MovieList extends Component {\n  static defaultProps = { movies: [] };\n\n  static propTypes = {\n    movies: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n          .isRequired,\n        title: PropTypes.string.isRequired,\n      }),\n    ),\n  };\n  render() {\n    const { movies, location } = this.props;\n    return (\n      <ul className={styles.MovieList}>\n        {movies.map(({ id, title, poster_path }) => (\n          <li key={id} className={styles.MovieList__item}>\n            <img\n              className={styles.MovieList__image}\n              src={getImagePath(poster_path, AVATAR_FALLBACK)}\n              alt={title}\n            />\n            <Link\n              className={styles.MovieList__title}\n              to={{\n                pathname: `${routes.movies}/${id}`,\n                state: { from: location },\n              }}\n            >\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default withRouter(MovieList);\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesPage\":\"MoviesPage_MoviesPage__N71MF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1mC_n\",\"SearchForm\":\"Searchbar_SearchForm__3W-RG\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3_Tf_\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3Xqkw\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3my7L\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static defaultProps = { onSubmit: () => {} };\n  static propTypes = { onSubmit: PropTypes.func };\n  state = {\n    query: '',\n  };\n  updateFields = ({ currentTarget: { name, value } }) => {\n    this.setState(state => {\n      return { [name]: value };\n    });\n  };\n\n  onSubmitHandler = event => {\n    const { onSubmit } = this.props;\n    const { query } = this.state;\n    event.preventDefault();\n\n    onSubmit(query);\n    // this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.onSubmitHandler}>\n          <button type=\"submit\" className={styles['SearchForm-button']}>\n            <span className={styles['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            className={styles['SearchForm-input']}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            name=\"query\"\n            value={query}\n            onChange={this.updateFields}\n            placeholder=\"Search movies\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\n// import PropTypes from 'prop-types';\nimport queryString from 'query-string';\nimport styles from './MoviesPage.module.css';\n\nimport Loader from './../../components/Loader';\nimport Searchbar from './../../components/Searchbar';\nimport MovieList from './../../components/MovieList';\nimport { searchMovies } from './../../api/apiService';\n\nclass MoviesPage extends Component {\n  state = { movies: [], search: '', loading: false };\n\n  getSearchFromProps = props => queryString.parse(props.location.search).search;\n\n  async componentDidUpdate(prevProps, { search }) {\n    const prevSearch = this.getSearchFromProps(prevProps);\n    const nextSearch = this.getSearchFromProps(this.props);\n\n    if (prevSearch !== nextSearch) {\n      await this.fetchMoviesList(nextSearch || '');\n    } else if (search !== this.state.search) {\n      await this.fetchMoviesList(this.state.search || ' ');\n    }\n  }\n\n  componentDidMount() {\n    const search = queryString.parse(this.props.location.search).search || '';\n    this.setState({ search });\n  }\n\n  fetchMoviesList = async search => {\n    if (search.trim() === '') {\n      return this.setState({ search: '', movies: [] });\n    }\n    try {\n      this.setState({ loading: true });\n      this.setState({ search, movies: await searchMovies(search) });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      this.setState({ loading: false });\n    }\n  };\n\n  onQueryChange = search => {\n    this.props.history.push({\n      pathname: this.props.location.pathname,\n      search: `search=${search}`,\n    });\n    this.setState({ search });\n  };\n\n  render() {\n    const { movies, loading } = this.state;\n    return (\n      <>\n        <div className={styles.MoviesPage}>\n          <Searchbar onSubmit={this.onQueryChange} />\n          {movies.length ? <MovieList movies={movies} /> : null}\n        </div>\n        {loading && <Loader />}\n      </>\n    );\n  }\n}\n\nexport default withRouter(MoviesPage);\n"],"sourceRoot":""}