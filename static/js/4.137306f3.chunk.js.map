{"version":3,"sources":["api/apiService.js","views/MovieDetailsPage/MovieDetailsPage.module.css","components/MovieCard/MovieCard.module.css","components/Cast/Cast.module.css","components/Reviews/Reviews.module.css","components/MovieAdditionalLinks/MovieAdditionalLinks.module.css","components/MovieCard/MovieCard.jsx","components/Cast/Cast.jsx","components/Reviews/Reviews.jsx","components/MovieAdditionalLinks/MovieAdditionalLinks.jsx","views/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["axios","defaults","baseURL","headers","common","IMAGE_PATH","getImagePath","path","template","process","getTrendMovies","a","get","data","results","searchMovies","query","searchMovieById","movieId","searchMovieCreditsById","crew","searchMovieReviewsById","module","exports","MovieCard","this","props","poster","title","popularity","overview","genres","className","styles","MovieCard__image","src","alt","width","MovieCard__data","MovieCard__section","MovieCard__title","toFixed","map","name","join","Component","defaultProps","score","Cast","state","casts","scrollTo","ref","scrollIntoView","behavior","block","onLoading","setState","console","log","length","credit_id","profile_path","Cast__item","Cast__title","Cast_image","Reviews","reviews","id","author","content","Reviews__item","Reviews__author","Reviews__message","MovieAdditionalLinks","url","match","MovieAdditionalLinks__title","MovieAdditionalLinks__list","MovieAdditionalLinks__item","exact","to","routes","cast","activeClassName","withRouter","MovieDetailsPage","movie","loading","historyBackHandle","location","history","from","push","movies","params","poster_path","MovieDetailsPage__navigation","MovieDetailsPage__back","type","onClick","render","Loader"],"mappings":"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","file":"static/js/4.137306f3.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY_V4 =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNWZkYWQ0ZjAwZmFmNWEwZTc3OTIzYjYxMWIyZDdmOSIsInN1YiI6IjYwNjA3MmI1MzlhMWE2MDA3NTVmNDJmYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BitU9jAy6ozOY21sloVzQqm0hM2h-9SJaeW-vmDViqY';\r\nconst API_VERSION = '3';\r\n\r\naxios.defaults.baseURL = `https://api.themoviedb.org/${API_VERSION}`;\r\naxios.defaults.headers.common['Authorization'] = `Bearer ${API_KEY_V4}`;\r\naxios.defaults.headers.common[\r\n  'Content-Type'\r\n] = `application/json;charset=utf-8`;\r\n\r\nexport const IMAGE_PATH = 'https://image.tmdb.org/t/p/w500';\r\n\r\nexport function getImagePath(path, template = 'avatar.jpg') {\r\n  return path\r\n    ? `${IMAGE_PATH}${path}`\r\n    : process.env.PUBLIC_URL + `/${template}`;\r\n}\r\n\r\nexport async function getTrendMovies() {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get('/trending/movie/day');\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovies(query) {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get(`/search/movie?query=${query}`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieById(movieId) {\r\n  try {\r\n    const { data } = await axios.get(`/movie/${movieId}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieCreditsById(movieId) {\r\n  try {\r\n    const {\r\n      data: { crew: data },\r\n    } = await axios.get(`/movie/${movieId}/credits`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovieReviewsById(movieId) {\r\n  try {\r\n    const {\r\n      data: { results: data },\r\n    } = await axios.get(`/movie/${movieId}/reviews`);\r\n    return data || [];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieDetailsPage\":\"MovieDetailsPage_MovieDetailsPage__2D5Ds\",\"MovieDetailsPage__navigation\":\"MovieDetailsPage_MovieDetailsPage__navigation__3iqcV\",\"MovieDetailsPage__back\":\"MovieDetailsPage_MovieDetailsPage__back__B7wAd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieCard\":\"MovieCard_MovieCard__3kmpV\",\"MovieCard__image\":\"MovieCard_MovieCard__image__1xyVC\",\"MovieCard__data\":\"MovieCard_MovieCard__data__298Hi\",\"MovieCard__section\":\"MovieCard_MovieCard__section__35Gb_\",\"MovieCard__title\":\"MovieCard_MovieCard__title__1Ljne\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Cast\":\"Cast_Cast__33KeS\",\"Cast__item\":\"Cast_Cast__item__zKB7G\",\"Cast__title\":\"Cast_Cast__title__1H7Wk\",\"Cast_image\":\"Cast_Cast_image__29P34\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Reviews\":\"Reviews_Reviews__3LzCz\",\"Reviews__item\":\"Reviews_Reviews__item__3yqaa\",\"Reviews__author\":\"Reviews_Reviews__author__3HadC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieAdditionalLinks\":\"MovieAdditionalLinks_MovieAdditionalLinks__NkOP-\",\"MovieAdditionalLinks__title\":\"MovieAdditionalLinks_MovieAdditionalLinks__title__1_4_f\",\"MovieAdditionalLinks__list\":\"MovieAdditionalLinks_MovieAdditionalLinks__list__1B6wk\",\"MovieAdditionalLinks__item\":\"MovieAdditionalLinks_MovieAdditionalLinks__item__3nKS8\",\"MovieAdditionalLinks__item--active\":\"MovieAdditionalLinks_MovieAdditionalLinks__item--active__3qDWR\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './MovieCard.module.css';\n\nimport { getImagePath } from './../../api/apiService';\n\nconst AVATAR_FALLBACK = 'poster.jpg';\n\nclass MovieCard extends Component {\n  static defaultProps = {\n    overview: '(empty)',\n    poster: null,\n    score: '--',\n    genres: [],\n  };\n\n  static propTypes = {\n    title: PropTypes.string.isRequired,\n    score: PropTypes.string,\n    overview: PropTypes.string,\n    poster: PropTypes.string || PropTypes.oneOf([null]),\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        name: PropTypes.string,\n      }),\n    ),\n  };\n\n  render() {\n    const { poster, title, popularity, overview, genres } = this.props;\n\n    return (\n      <article className={styles.MovieCard}>\n        <img\n          className={styles.MovieCard__image}\n          src={getImagePath(poster, AVATAR_FALLBACK)}\n          alt={title}\n          width=\"200px\"\n        />\n        <div className={styles.MovieCard__data}>\n          <section className={styles.MovieCard__section}>\n            <h1 className={styles.MovieCard__title}>{title}</h1>\n            <p>User Score: {popularity.toFixed(0)}%</p>\n          </section>\n          <section className={styles.MovieCard__section}>\n            <h2 className={styles.MovieCard__title}>Overview</h2>\n            <p>{overview}</p>\n          </section>\n          <section className={styles.MovieCard__section}>\n            <h3 className={styles.MovieCard__title}>Genres</h3>\n            <p>{genres.map(({ name }) => name).join(', ')}</p>\n          </section>\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default MovieCard;\n","import React, { Component } from 'react';\n// import { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Cast.module.css';\nimport { searchMovieCreditsById, getImagePath } from './../../api/apiService';\n\nclass Cast extends Component {\n  state = { casts: [] };\n  static defaultProps = { onLoading: () => {} };\n\n  static propTypes = {\n    movieId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n      .isRequired,\n    onLoading: PropTypes.func,\n  };\n  scrollTo = ref => {\n    if (ref) {\n      ref.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  };\n\n  async componentDidMount() {\n    const { movieId, onLoading } = this.props;\n    try {\n      onLoading(true);\n      this.setState({ casts: await searchMovieCreditsById(movieId) });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      onLoading(false);\n    }\n  }\n  render() {\n    const { casts } = this.state;\n\n    return (\n      casts.length > 0 && (\n        <>\n          <ul className={styles.Cast} ref={this.scrollTo}>\n            {casts.map(({ credit_id, name, profile_path }) => {\n              profile_path = getImagePath(profile_path);\n\n              return (\n                <li className={styles.Cast__item} key={credit_id}>\n                  <h3 className={styles.Cast__title}>{name}</h3>\n                  <img\n                    className={styles.Cast_image}\n                    src={profile_path}\n                    width=\"100px\"\n                    alt={name}\n                  />\n                </li>\n              );\n            })}\n          </ul>\n        </>\n      )\n    );\n  }\n}\n\nexport default Cast;\n// export default withRouter(Cast);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Reviews.module.css';\n\nimport { searchMovieReviewsById } from './../../api/apiService';\n\nclass Reviews extends Component {\n  state = { reviews: [] };\n\n  static defaultProps = { onLoading: () => {} };\n\n  static propTypes = {\n    movieId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n      .isRequired,\n    onLoading: PropTypes.func,\n  };\n\n  scrollTo = ref => {\n    if (ref) {\n      ref.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  };\n\n  async componentDidMount() {\n    const { movieId, onLoading } = this.props;\n    try {\n      onLoading(true);\n      this.setState({ reviews: await searchMovieReviewsById(movieId) });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      onLoading(false);\n    }\n  }\n  render() {\n    const { reviews } = this.state;\n    return (\n      <>\n        <ul className={styles.Reviews} ref={this.scrollTo}>\n          {reviews.length > 0 ? (\n            reviews.map(({ id, author, content }) => {\n              return (\n                <li className={styles.Reviews__item} key={id}>\n                  <h3 className={styles.Reviews__author}>{author}</h3>\n                  <p className={styles.Reviews__message}>{content}</p>\n                </li>\n              );\n            })\n          ) : (\n            <li className={styles.Reviews__item}>\n              We don't have any reviews for this movie\n            </li>\n          )}\n        </ul>\n      </>\n    );\n  }\n}\n\nexport default Reviews;\n","import React, { Component } from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\n\nimport styles from './MovieAdditionalLinks.module.css';\n\nimport routes from './../../routes';\n\nclass MovieAdditionalLinks extends Component {\n  render() {\n    const {\n      match: { url },\n    } = this.props;\n    // console.log(this.props);\n    return (\n      <div className={styles.MovieAdditionalLinks}>\n        <h4 className={styles.MovieAdditionalLinks__title}>\n          Additional information\n        </h4>\n        <ul className={styles.MovieAdditionalLinks__list}>\n          <li className={styles.MovieAdditionalLinks__item}>\n            <NavLink\n              exact\n              to={`${url}${routes.cast}`}\n              activeClassName={styles['MovieAdditionalLinks__item--active']}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li className={styles.MovieAdditionalLinks__item}>\n            <NavLink\n              exact\n              to={`${url}${routes.reviews}`}\n              activeClassName={styles['MovieAdditionalLinks__item--active']}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(MovieAdditionalLinks);\n","import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { Switch } from 'react-router-dom';\n// import PropTypes from 'prop-types';\nimport styles from './MovieDetailsPage.module.css';\n\nimport MovieCard from './../../components/MovieCard';\nimport Cast from './../../components/Cast';\nimport Reviews from './../../components/Reviews';\nimport MovieAdditionalLinks from './../../components/MovieAdditionalLinks';\n\nimport { searchMovieById } from './../../api/apiService';\nimport Loader from './../../components/Loader';\nimport routes from './../../routes';\n\nclass MovieDetailsPage extends Component {\n  state = { movie: {}, loading: false };\n  // static defaultProps = {};\n\n  // static propTypes = {\n  //   test: PropTypes.string.isRequired,\n  // };\n\n  loading = state => {\n    this.setState({ loading: state });\n  };\n\n  async componentDidMount() {\n    const movieId = this.props.match.params.movieId;\n\n    try {\n      this.loading(true);\n      // this.setState({ loading: true });\n      this.setState({ movie: await searchMovieById(movieId) });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      this.loading(false);\n      // this.setState({ loading: false });\n    }\n  }\n\n  historyBackHandle = () => {\n    const { location, history } = this.props;\n    if (location.state && location.state.from) {\n      return history.push(location.state.from);\n    }\n    history.push(routes.movies);\n  };\n\n  render() {\n    const {\n      movie: { id, poster_path: poster, title, popularity, overview, genres },\n      loading,\n    } = this.state;\n\n    if (!id) {\n      return null; //first load empty\n    }\n\n    const url = this.props.match.url;\n\n    return (\n      <>\n        {' '}\n        <div className={styles.MovieDetailsPage}>\n          <div className={styles.MovieDetailsPage__navigation}>\n            <button\n              className={styles.MovieDetailsPage__back}\n              type=\"button\"\n              onClick={this.historyBackHandle}\n            >\n              &#8592; Go back\n            </button>\n          </div>\n          <MovieCard\n            poster={poster}\n            title={title}\n            popularity={popularity}\n            overview={overview}\n            genres={genres}\n          />\n          <MovieAdditionalLinks />\n          <Switch>\n            <Route\n              path={`${url}${routes.cast}`}\n              render={() => <Cast movieId={id} onLoading={this.loading} />}\n            />\n            <Route\n              path={`${url}${routes.reviews}`}\n              render={() => <Reviews movieId={id} onLoading={this.loading} />}\n            />\n          </Switch>\n        </div>\n        {loading && <Loader />}\n      </>\n    );\n  }\n}\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}